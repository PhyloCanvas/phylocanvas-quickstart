var PhyloCanvas=function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,a,i;!function(s,o){a=[t,n(1),n(3),n(4),n(5),n(2),n(6)],r=o,i="function"==typeof r?r.apply(e,a):r,!(void 0!==i&&(t.exports=i))}(this,function(t,e,n,r,a,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}var o=s(e),l=s(n),h=s(r),c=s(a),u=s(i);u["default"].plugin(o["default"]),u["default"].plugin(l["default"]),u["default"].plugin(h["default"]),u["default"].plugin(c["default"]),t.exports=u["default"]})},function(t,e,n){!function(e,r){t.exports=r(n(2))}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){t(this,"createTree",function(t,e){var n=t.apply(void 0,r(e)),a=s(e,2),i=a[1],o=void 0===i?{}:i;if(o.history||"undefined"==typeof o.history){var l=o.history&&"undefined"!=typeof o.history.collapsed;n.historySnapshots=[],n.history=new y(n,l?o.history.collapsed:!0)}return n}),t(l.Tree,"resizeToContainer",function(t){return this.history?void this.history.resizeTree():t.apply(this)}),this.History=y}var s=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var l=n(1),h=l.utils.dom,c=h.addClass,u=h.hasClass,d=h.removeClass,f=l.utils.events,v=f.fireEvent,p=f.addEvent,g=f.killEvent,y=function(){function t(e,n){var r=this;a(this,t),this.tree=e,this.injectCss(),this.div=this.createDiv(e.containerElement),this.tree.addListener("subtree",function(t){var e=t.node;return r.addSnapshot(e)}),this.tree.addListener("loaded",function(){return r.addSnapshot(r.tree.root.id)}),this.tree.addListener("typechanged",function(){return r.addSnapshot(r.tree.root.id)}),n?this.collapse():this.expand()}return o(t,[{key:"collapse",value:function(){c(this.div,"collapsed"),this.toggleDiv.firstChild.data=">",this.resizeTree(),this.tree.draw()}},{key:"expand",value:function(){d(this.div,"collapsed"),this.toggleDiv.firstChild.data="<",this.resizeTree(),this.tree.draw()}},{key:"isCollapsed",value:function(){return u(this.div,"collapsed")}},{key:"toggle",value:function(){this.isCollapsed()?this.expand():this.collapse(),v(this.tree.containerElement,"historytoggle",{isOpen:!this.isCollapsed()})}},{key:"createDiv",value:function(t){var e=document.createElement("div");e.className="pc-history",p(e,"click",g),p(e,"contextmenu",g);var n=document.createElement("div");n.innerHTML="History",n.className="pc-history-title",e.appendChild(n);var r=document.createElement("div");r.appendChild(document.createTextNode("<")),r.className="toggle",p(r,"click",this.toggle.bind(this)),e.appendChild(r),this.toggleDiv=r;var a=document.createElement("ul");return a.className="pc-history-snapshots",e.appendChild(a),this.snapshotList=a,t.appendChild(e),e}},{key:"resizeTree",value:function(){var t=this.tree;this.width=this.div.offsetWidth,t.setSize(t.containerElement.offsetWidth-this.width,t.containerElement.offsetHeight),this.isCollapsed()?t.containerElement.getElementsByTagName("canvas")[0].style.marginLeft=this.width+"px":t.containerElement.getElementsByTagName("canvas")[0].style.marginLeft="20%"}},{key:"addSnapshot",value:function(t){if(t){var e="phylocanvas-history-",n=this.tree.treeType,r=!1;if(this.tree.historySnapshots.forEach(function(a){a.style.background="transparent",a.id===e+t&&a.getAttribute("data-tree-type")===n&&(r=!0,a.style.background="lightblue")}),!r){var a=this.tree.getPngUrl(),i=document.createElement("li"),s=document.createElement("img");s.width=this.width,s.src=a,s.id=e+t,s.setAttribute("data-tree-type",this.tree.treeType),s.style.background="lightblue",this.tree.historySnapshots.push(s),i.appendChild(s),this.snapshotList.appendChild(i),p(s,"click",this.goBackTo.bind(this))}}}},{key:"clear",value:function(){for(var t=this.snapshotList.getElementsByTagName("li"),e=t.length;e--;)this.snapshotList.removeChild(t[0]);this.tree.historySnapshots.length=0}},{key:"goBackTo",value:function(t){var e=t.target,n=e.id.replace("phylocanvas-history-","");this.tree.setTreeType(e.getAttribute("data-tree-type"),!0),this.tree.redrawFromBranch(this.tree.originalTree.branches[n])}},{key:"injectCss",value:function(){var t=".pc-history { position: absolute; top: 0; bottom: 0; left: 0; box-sizing: border-box; width: 20%; overflow: hidden; background: #EEE }.pc-history .pc-history-title { box-sizing: border-box; height: 20px; text-align: center; font-size: 13px; color: #666; padding: 2px; border-bottom: 1px solid #bbb }.pc-history .toggle { position: absolute; top: 0; right: 0; padding: 2px 8px; cursor: pointer; border-top-left-radius: 50%; border-bottom-left-radius: 50%; background-color: #666; color: #FFF; box-sizing: border-box; height: 20px; }.pc-history.collapsed .toggle { border-radius: 0 50% 50% 0 }.pc-history .toggle:hover { background-color: #FFF; color: #CCC }.pc-history.collapsed { width: 25px }.pc-history.collapsed .pc-history-snapshots { display: none }.pc-history.collapsed .pc-history-title { writing-mode: sideways-rl; -webkit-writing-mode: vertical-rl; margin-top: 30px; background: 0 0; color: #666; letter-spacing: 1.2px; border-bottom: none }.pc-history-snapshots { position: absolute; top: 20px; bottom: 0; margin: 0; padding: 0; overflow-x: hidden; overflow-y: scroll; }.pc-history-snapshots li { list-style: outside none none }.pc-history img { border: 0px solid #CCC; border-top-width: 1px; cursor: pointer; width: 100%; box-sizing: border-box; transition: background-color .25s ease; display: block }.pc-history img:hover { background-color: #fff }",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)}}]),t}()},function(e,n){e.exports=t}])})},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function a(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){var r=t[e]?t:t.prototype,a=r[e];r[e]=function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return n.call(this,a,e)}}function s(t){t.call(this,i)}function o(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new h["default"](t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.nodeRenderers=e.treeTypes=e.Parser=e.Tooltip=e.Branch=e.Tree=void 0;var l=n(1),h=a(l),c=n(7),u=a(c),d=n(9),f=a(d),v=n(30),p=a(v),g=n(11),y=a(g),m=n(8),b=a(m),x=n(2),w=r(x);e.Tree=h["default"],e.Branch=u["default"],e.Tooltip=f["default"],e.Parser=p["default"],e.treeTypes=y["default"],e.nodeRenderers=b["default"],e.utils=w,e["default"]={plugin:s,createTree:o}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),l=n(7),h=r(l),c=n(9),u=n(10),d=r(u),f=n(11),v=r(f),p=n(29),g=r(p),y=o.dom.addClass,m=o.events.fireEvent,b=o.events.addEvent,x=o.canvas.getPixelRatio,w=o.canvas.translateClick,S=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.containerElement="string"==typeof e?document.getElementById(e):e,y(this.containerElement,"pc-container"),this.branches={},this.leaves=[],this.root=!1,this.stringRepresentation="",this.backColour=!1,this.originalTree={},"static"===window.getComputedStyle(this.containerElement).position&&(this.containerElement.style.position="relative"),this.containerElement.style.boxSizing="border-box";var r=document.createElement("canvas");r.id=(this.containerElement.id||"")+"__canvas",r.className="phylocanvas",r.style.position="relative",r.height=e.offsetHeight||400,r.width=e.offsetWidth||400,r.style.zIndex="1",this.containerElement.appendChild(r),this.defaultCollapsedOptions={},this.defaultCollapsed=!1,void 0!==n.defaultCollapsed&&n.defaultCollapsed.min&&n.defaultCollapsed.max&&(this.defaultCollapsedOptions=n.defaultCollapsed,this.defaultCollapsed=!0),this.tooltip=new c.ChildNodesTooltip(this),this.drawn=!1,this.highlighters=[],this.zoom=1,this.zoomFactor=.2,this.disableZoom=n.disableZoom||!1,this.fillCanvas=n.fillCanvas||!1,this.branchScaling=!0,this.currentBranchScale=1,this.branchScalingStep=1.2,this.pickedup=!1,this.dragging=!1,this.startx=null,this.starty=null,this.pickedup=!1,this.baseNodeSize=1,this.curx=null,this.cury=null,this.origx=null,this.origy=null,this.canvas=r.getContext("2d"),this.canvas.canvas.onselectstart=function(){return!1},this.canvas.fillStyle="#000000",this.canvas.strokeStyle="#000000",this.canvas.save(),this.offsetx=this.canvas.canvas.width/2,this.offsety=this.canvas.canvas.height/2,this.selectedColour="rgba(49,151,245,1)",this.highlightColour="rgba(49,151,245,1)",this.highlightWidth=4,this.highlightSize=2,this.selectedNodeSizeIncrease=0,this.branchColour="rgba(0,0,0,1)",this.branchScalar=1,this.padding=n.padding||50,this.labelPadding=5,this.multiSelect=!0,this.clickFlag="selected",this.clickFlagPredicate=function(){return!0},this.hoverLabel=!1,this.internalNodesSelectable=!0,this.showLabels=!0,this.showBootstraps=!1,this.setTreeType("radial"),this.maxBranchLength=0,this.lineWidth=1,this.textSize=7,this.font="sans-serif",this.unselectOnClickAway=!0,this.useNavigator&&(this.navigator=new d["default"](this)),this.resizeToContainer(),this.addListener("click",this.clicked.bind(this)),this.addListener("mousedown",this.pickup.bind(this)),this.addListener("mouseup",this.drop.bind(this)),this.addListener("mouseout",this.drop.bind(this)),b(this.canvas.canvas,"mousemove",this.drag.bind(this)),this.disableZoom||(b(this.canvas.canvas,"mousewheel",this.scroll.bind(this)),b(this.canvas.canvas,"DOMMouseScroll",this.scroll.bind(this))),b(window,"resize",function(){this.resizeToContainer(),this.draw()}.bind(this)),this.alignLabels=!1,this.farthestNodeFromRootX=0,this.farthestNodeFromRootY=0,this.maxLabelLength={}}return s(t,[{key:"setInitialCollapsedBranches",value:function(){var t,e,n=arguments.length<=0||void 0===arguments[0]?this.root:arguments[0];if(t=n.getChildProperties("id"),t&&t.length>this.defaultCollapsedOptions.min&&t.length<this.defaultCollapsedOptions.max)return void(n.collapsed=!0);for(e=0;e<n.children.length;e++)this.setInitialCollapsedBranches(n.children[e])}},{key:"getNodeAtMousePosition",value:function(t){var e;return(e=this.root).clicked.apply(e,a(w(t,this)))}},{key:"getSelectedNodeIds",value:function(){return this.getNodeIdsWithFlag("selected")}},{key:"getNodeIdsWithFlag",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return this.leaves.reduce(function(n,r){return r[t]===e&&n.push(r.id),n},[])}},{key:"clicked",value:function(t){var e;if(0===t.button){var n=[];if(this.dragging)return void(this.dragging=!1);if(!this.root)return!1;e=this.getNodeAtMousePosition(t);var r=this.multiSelect&&(t.metaKey||t.ctrlKey);if(e&&e.interactive)if(r){if(e.leaf)e[this.clickFlag]=!e[this.clickFlag];else if(this.internalNodesSelectable){var a=e.getChildProperties(this.clickFlag).some(function(t){return t===!1});e.cascadeFlag(this.clickFlag,a,this.clickFlagPredicate)}n=this.getNodeIdsWithFlag(this.clickFlag),this.draw()}else this.root.cascadeFlag(this.clickFlag,!1,this.clickFlagPredicate),(this.internalNodesSelectable||e.leaf)&&(e.cascadeFlag(this.clickFlag,!0,this.clickFlagPredicate),n=e.getChildProperties("id")),this.draw();else!this.unselectOnClickAway||this.dragging||r||(this.root.cascadeFlag(this.clickFlag,!1,this.clickFlagPredicate),this.draw());this.pickedup||(this.dragging=!1),this.nodesUpdated(n,this.clickFlag)}}},{key:"dblclicked",value:function(t){if(!this.root)return!1;var e=this.getNodeAtMousePosition(t);e&&(e.cascadeFlag("selected",!1),e.toggleCollapsed()),this.pickedup||(this.dragging=!1),this.draw()}},{key:"displayLabels",value:function(){this.showLabels=!0,this.draw()}},{key:"drag",value:function(t){var e=x(this.canvas);if(!this.drawn)return!1;if(this.pickedup){var n=(t.clientX-this.startx)*e,r=(t.clientY-this.starty)*e;Math.abs(n)+Math.abs(r)>5&&(this.dragging=!0,this.offsetx=this.origx+n,this.offsety=this.origy+r,this.draw())}else{var a=t,i=this.getNodeAtMousePosition(a);i&&i.interactive&&(this.internalNodesSelectable||i.leaf)?(this.root.cascadeFlag("hovered",!1),i.hovered=!0,i.leaf||i.hasCollapsedAncestor()||this.tooltip.open(a.clientX,a.clientY,i),this.containerElement.style.cursor="pointer"):(this.tooltip.close(),this.root.cascadeFlag("hovered",!1),this.containerElement.style.cursor="auto"),this.draw()}}},{key:"draw",value:function(t){if(this.highlighters.length=0,0===this.maxBranchLength)return void this.loadError(new Error("All branches in the tree are identical."));this.canvas.restore(),this.canvas.clearRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height),this.canvas.lineCap="round",this.canvas.lineJoin="round",this.canvas.strokeStyle=this.branchColour,this.canvas.save(),this.drawn&&!t||(this.prerenderer.run(this),t||this.fitInPanel());var e=x(this.canvas);this.canvas.lineWidth=this.lineWidth/this.zoom,this.canvas.translate(this.offsetx*e,this.offsety*e),this.canvas.scale(this.zoom,this.zoom),this.branchRenderer.render(this,this.root),this.highlighters.forEach(function(t){return t()}),this.defaultCollapsed=!1,this.drawn=!0}},{key:"drop",value:function(){return this.drawn?void(this.pickedup=!1):!1}},{key:"findLeaves",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?"id":arguments[1],n=[],r=!0,a=!1,i=void 0;try{for(var s,o=this.leaves[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;l[e]&&l[e].match(t)&&n.push(l)}}catch(h){a=!0,i=h}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}},{key:"updateLeaves",value:function(t,e,n){var r=!0,a=!1,i=void 0;try{for(var s,o=this.leaves[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;l[e]=!n}}catch(h){a=!0,i=h}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}var c=!0,u=!1,d=void 0;try{for(var f,v=t[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){var l=f.value;l[e]=n}}catch(h){u=!0,d=h}finally{try{!c&&v["return"]&&v["return"]()}finally{if(u)throw d}}this.nodesUpdated(t.map(function(t){return t.id}),e)}},{key:"clearSelect",value:function(){this.root.cascadeFlag("selected",!1),this.draw()}},{key:"getPngUrl",value:function(){return this.canvas.canvas.toDataURL()}},{key:"hideLabels",value:function(){this.showLabels=!1,this.draw()}},{key:"load",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2],r=e,a=n;if("function"==typeof e&&(a=e,r={}),a&&(r.callback=a),r.format)return void this.build(t,g["default"][r.format],r);var i=!0,s=!1,o=void 0;try{for(var l,h=Object.keys(g["default"])[Symbol.iterator]();!(i=(l=h.next()).done);i=!0){var c=l.value,u=g["default"][c];if(t.match(u.fileExtension)||t.match(u.validator))return void this.build(t,u,r)}}catch(d){s=!0,o=d}finally{try{!i&&h["return"]&&h["return"]()}finally{if(s)throw o}}var f=new Error("String not recognised as a file or a parseable format string");a&&a(f),this.loadError(f)}},{key:"saveOriginalTree",value:function(){this.originalTree.branches=this.branches,this.originalTree.leaves=this.leaves,this.originalTree.root=this.root,this.originalTree.branchLengths={},this.originalTree.parents={}}},{key:"clearState",value:function(){this.root=!1,this.leaves=[],this.branches={},this.drawn=!1}},{key:"saveState",value:function(){return this.extractNestedBranches(),this.root.branchLength=0,this.maxBranchLength=0,this.root.setTotalLength(),0===this.maxBranchLength?void this.loadError(new Error("All branches in the tree are identical.")):void 0}},{key:"build",value:function(t,e,n){var r=this;this.originalTree={},this.clearState(),h["default"].lastId=0;var a=new h["default"];a.id="root",this.branches.root=a,this.setRoot(a),e.parse({formatString:t,root:a,options:n},function(e){return e?(n.callback&&n.callback(e),void r.loadError(e)):(r.stringRepresentation=t,r.saveState(),r.setInitialCollapsedBranches(),r.draw(),r.saveOriginalTree(),n.callback&&n.callback(),void r.loadCompleted())})}},{key:"pickup",value:function(t){return this.drawn?(this.origx=this.offsetx,this.origy=this.offsety,0===t.button&&(this.pickedup=!0),this.startx=t.clientX,void(this.starty=t.clientY)):!1}},{key:"redrawFromBranch",value:function(t){this.clearState(),this.resetTree(),this.originalTree.branchLengths[t.id]=t.branchLength,this.originalTree.parents[t.id]=t.parent,this.root=t,this.root.parent=!1,this.saveState(),this.draw(),this.subtreeDrawn(t.id)}},{key:"redrawOriginalTree",value:function(){this.load(this.stringRepresentation)}},{key:"storeNode",value:function(t){if(t.id&&""!==t.id||(t.id=h["default"].generateId()),this.branches[t.id]&&t!==this.branches[t.id]){if(t.leaf)throw new Error("Two nodes on this tree share the id "+t.id);t.id=h["default"].generateId()}this.branches[t.id]=t,t.leaf&&this.leaves.push(t)}},{key:"scroll",value:function(t){var e=this;if(t.preventDefault(),!(this._zooming||"wheelDelta"in t&&0===t.wheelDelta)){var n=t.detail<0||t.wheelDelta>0?1:-1;if(this.branchScaling&&(t.metaKey||t.ctrlKey))this.currentBranchScale*=Math.pow(this.branchScalingStep,n),this.setBranchScale(this.currentBranchScale,{x:t.offsetX,y:t.offsetY});else{var r=Math.log(this.zoom)/Math.log(10)+n*this.zoomFactor;this.setZoom(r,t.offsetX,t.offsetY)}this._zooming=!0,setTimeout(function(){e._zooming=!1},128)}}},{key:"selectNodes",value:function(t){var e,n,r,a=t;if(this.root){this.root.cascadeFlag("selected",!1),"string"==typeof t&&(a=a.split(","));for(n in this.branches)if(this.branches.hasOwnProperty(n))for(e=this.branches[n],r=0;r<a.length;r++)a[r]===e.id&&e.cascadeFlag("selected",!0);this.draw()}}},{key:"setFont",value:function(t){isNaN(t)&&(this.font=t,this.draw())}},{key:"setNodeDisplay",value:function(t,e,n){var r=this;if(t)if(this.drawn){var a=[];if(a="string"==typeof t?t.split(","):t,a.length){var i=!0,s=!1,o=void 0;try{for(var l,h=a[Symbol.iterator]();!(i=(l=h.next()).done);i=!0){var c=l.value;c in this.branches&&this.branches[c].setDisplay(e)}}catch(u){s=!0,o=u}finally{try{!i&&h["return"]&&h["return"]()}finally{if(s)throw o}}this.draw()}}else n||!function(){var n=r,a=setInterval(function(){this.drawn&&(n.setNodeColourAndShape(t,e,!0),clearInterval(a))})}()}},{key:"setNodeSize",value:function(t){this.baseNodeSize=Number(t),this.draw()}},{key:"setRoot",value:function(t){t.canvas=this.canvas,t.tree=this,this.root=t}},{key:"setTextSize",value:function(t){this.textSize=Number(t),this.draw()}},{key:"setFontSize",value:function(t){this.textSize=this.calculateFontSize?this.calculateFontSize(t):Math.min(t/2,15),this.canvas.font=this.textSize+"pt "+this.font}},{key:"setTreeType",value:function(t,e){if(!(t in v["default"]))return m(this.containerElement,"error",{error:new Error('"'+t+'" is not a known tree-type.')});var n=this.treeType;this.treeType=t,this.branchRenderer=v["default"][t].branchRenderer,this.prerenderer=v["default"][t].prerenderer,this.labelAlign=v["default"][t].labelAlign,this.scaleCollapsedNode=v["default"][t].scaleCollapsedNode,this.calculateFontSize=v["default"][t].calculateFontSize,this.drawn&&(this.drawn=!1,this.draw()),e||this.treeTypeChanged(n,t)}},{key:"setSize",value:function(t,e){this.canvas.canvas.width=t,this.canvas.canvas.height=e,this.navigator&&this.navigator.resize(),this.adjustForPixelRatio()}},{key:"setZoom",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.canvas.canvas.width/2:arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.canvas.canvas.height/2:arguments[2];if(t>-2&&2>t){var r=this.zoom,a=Math.pow(10,t);this.zoom=a,this.offsetx=this.calculateZoomedOffset(this.offsetx,e,r,a),this.offsety=this.calculateZoomedOffset(this.offsety,n,r,a),this.draw()}}},{key:"calculateZoomedOffset",value:function(t,e,n,r){return-1*((-1*t+e)/n*r-e)}},{key:"setBranchScale",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{x:this.canvas.canvas.width/2,y:this.canvas.canvas.height/2}:arguments[1],n=v["default"][this.treeType];if(n.branchScalingAxis&&!(0>t)){var r=this.branchScalar;this.branchScalar=this.initialBranchScalar*t;var a=this.branchScalar/r,i=this["offset"+n.branchScalingAxis],s=e[n.branchScalingAxis],o=(e[n.branchScalingAxis]-i)*a+i;this["offset"+n.branchScalingAxis]+=s-o,this.draw()}}},{key:"toggleLabels",value:function(){this.showLabels=!this.showLabels,this.draw()}},{key:"setMaxLabelLength",value:function(){var t;void 0===this.maxLabelLength[this.treeType]&&(this.maxLabelLength[this.treeType]=0);for(var e=0;e<this.leaves.length;e++)t=this.canvas.measureText(this.leaves[e].id),t.width>this.maxLabelLength[this.treeType]&&(this.maxLabelLength[this.treeType]=t.width)}},{key:"loadCompleted",value:function(){m(this.containerElement,"loaded")}},{key:"loadStarted",value:function(){m(this.containerElement,"loading")}},{key:"loadError",value:function(t){m(this.containerElement,"error",{error:t})}},{key:"subtreeDrawn",value:function(t){m(this.containerElement,"subtree",{node:t})}},{key:"nodesUpdated",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];m(this.containerElement,"updated",{nodeIds:t,property:e,append:n})}},{key:"addListener",value:function(t,e){b(this.containerElement,t,e)}},{key:"getBounds",value:function(){for(var t=this.root.startx,e=this.root.startx,n=this.root.starty,r=this.root.starty,a=this.leaves.length;a--;){var i=this.leaves[a].getBounds();t=Math.min(t,i.minx),e=Math.max(e,i.maxx),n=Math.min(n,i.miny),r=Math.max(r,i.maxy)}return[[t,n],[e,r]]}},{key:"fitInPanel",value:function(){var t=[this.canvas.canvas.width-2*this.padding,this.canvas.canvas.height-2*this.padding],e=this.getBounds(),n=[e[1][0]-e[0][0],e[1][1]-e[0][1]],r=x(this.canvas),a=t[0]/n[0],i=t[1]/n[1];this.zoom=Math.min(a,i),this.offsetx=-1*e[0][0]*this.zoom,this.offsety=-1*e[0][1]*this.zoom,a>i?(this.offsetx+=this.padding+(t[0]-n[0]*this.zoom)/2,this.offsety+=this.padding):(this.offsetx+=this.padding,this.offsety+=this.padding+(t[1]-n[1]*this.zoom)/2),this.offsetx=this.offsetx/r,this.offsety=this.offsety/r}},{key:"adjustForPixelRatio",value:function(){var t=x(this.canvas);this.canvas.canvas.style.height=this.canvas.canvas.height+"px",this.canvas.canvas.style.width=this.canvas.canvas.width+"px",t>1&&(this.canvas.canvas.width*=t,this.canvas.canvas.height*=t)}},{key:"treeTypeChanged",value:function(t,e){m(this.containerElement,"typechanged",{oldType:t,newType:e})}},{key:"resetTree",value:function(){if(this.originalTree.branches){this.branches=this.originalTree.branches;var t=!0,e=!1,n=void 0;try{for(var r,a=Object.keys(this.originalTree.branchLengths)[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;this.branches[i].branchLength=this.originalTree.branchLengths[i],this.branches[i].parent=this.originalTree.parents[i]}}catch(s){e=!0,n=s}finally{try{!t&&a["return"]&&a["return"]()}finally{if(e)throw n}}this.leaves=this.originalTree.leaves,this.root=this.originalTree.root}}},{key:"rotateBranch",value:function(t){this.branches[t.id].rotate()}},{key:"extractNestedBranches",value:function(){this.branches={},this.leaves=[],this.storeNode(this.root),this.root.extractChildren()}},{key:"exportNwk",value:function(){var t=this.root.getNwk();return t.substr(0,t.lastIndexOf(")")+1)+";"}},{key:"resizeToContainer",value:function(){this.setSize(this.containerElement.offsetWidth,this.containerElement.offsetHeight)}},{key:"alignLabels",get:function(){return this.showLabels&&this.labelAlign&&this.labelAlignEnabled},set:function(t){this.labelAlignEnabled=t}}]),t}();e["default"]=S,S.prototype.on=S.prototype.addListener},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.events=e.dom=e.constants=e.canvas=void 0;var a=n(3),i=r(a),s=n(6),o=r(s),l=n(4),h=r(l),c=n(5),u=r(c);e.canvas=i,e.constants=o,e.dom=h,e.events=u},function(t,e,n){"use strict";function r(t){return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}function a(t){return(window.devicePixelRatio||1)/r(t)}function i(t,e){var n=a(e.canvas);return[(t.offsetX-e.offsetx)/e.zoom*n,(t.offsetY-e.offsety)/e.zoom*n]}function s(t,e){var n=t.x,r=t.y,i=a(e.canvas);return{x:n?(n-e.offsetx)/e.zoom*i:null,y:r?(r-e.offsety)/e.zoom*i:null}}function o(t,e){var n=t.x,r=t.y,i=a(e.canvas);return{x:n?n/i*e.zoom+e.offsetx:null,y:r?r/i*e.zoom+e.offsety:null}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBackingStorePixelRatio=r,e.getPixelRatio=a,e.translateClick=i,e.translatePoint=s,e.undoPointTranslation=o;n(4)},function(t,e,n){"use strict";function r(t){var e=arguments.length<=1||void 0===arguments[1]?"text/plain;charset=utf-8":arguments[1],n=new Blob([t],{type:e});return u.createObjectURL(n)}function a(t,e){var n=document.createElement("a"),r="undefined"!=typeof n.download;n.href=t,n.target="_blank",r&&(n.download=e),(0,c.fireEvent)(n,"click"),r&&u.revokeObjectURL(n.href)}function i(t){for(var e=0;t;)e+=t.offsetLeft,t=t.offsetParent;return e}function s(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}function o(t,e){var n=t.className.split(" ");-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" "))}function l(t,e){var n=t.className.split(" "),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))}function h(t,e){var n=t.className.split(" "),r=n.indexOf(e);return-1!==r}Object.defineProperty(e,"__esModule",{value:!0}),e.createBlobUrl=r,e.setupDownloadLink=a,e.getX=i,e.getY=s,e.addClass=o,e.removeClass=l,e.hasClass=h;var c=n(5),u=window.URL||window.webkitURL},function(t,e){"use strict";function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function r(t){return t.preventDefault(),!1}function a(t,e){var n,r,a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e),n.eventName=e;for(r in a)a.hasOwnProperty(r)&&(n[r]=a[r]);document.createEvent?t.dispatchEvent(n):t.fireEvent("on"+n.eventType,n)}function i(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){return n.call(t,window.event)})}function s(t){t.stopPropagation(),t.preventDefault()}function o(t,e){var r;return r=("undefined"==typeof e?"undefined":n(e))===n("aaa")?function(n){return t[e]?t[e](n):void 0}:function(){return e(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.preventDefault=r,e.fireEvent=a,e.addEvent=i,e.killEvent=s,e.createHandler=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Angles={FORTYFIVE:Math.PI/4,QUARTER:Math.PI/2,HALF:Math.PI,FULL:2*Math.PI},e.Shapes={x:"star",s:"square",o:"circle",t:"triangle"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),o=n(8),l=r(o),h=s.constants.Angles,c=s.constants.Shapes,u={minx:0,maxx:0,miny:0,maxy:0},d={lineWidth:null,strokeStyle:null,fillStyle:null},f=function(){function t(){a(this,t),this.angle=0,this.branchLength=!1,this.canvas=null,this.centerx=0,this.centery=0,this.children=[],this.collapsed=!1,this.colour=null,this.data={},this.highlighted=!1,this.hovered=!1,this.id="",this.interx=0,this.intery=0,this.label=null,this.leaf=!0,this.maxChildAngle=0,this.minChildAngle=h.FULL,this.nodeShape="circle",this.parent=null,this.radius=1,this.selected=!1,this.startx=0,this.starty=0,this.totalBranchLength=0,this.tree={},this.pruned=!1,this.labelStyle={},this.interactive=!0,this.leafStyle={}}return i(t,[{key:"clicked",value:function(t,e){var n,r;if(!this.dragging){if(t<this.maxx&&t>this.minx&&e<this.maxy&&e>this.miny)return this;for(n=this.children.length-1;n>=0;n--)if(r=this.children[n].clicked(t,e))return r}}},{key:"drawLabel",value:function(){var t=this.getTextSize(),e=this.getLabel();this.canvas.font=this.getFontString(),this.labelWidth=this.canvas.measureText(e).width,void 0===this.tree.maxLabelLength[this.tree.treeType]&&(this.tree.maxLabelLength[this.tree.treeType]=0),this.labelWidth>this.tree.maxLabelLength[this.tree.treeType]&&(this.tree.maxLabelLength[this.tree.treeType]=this.labelWidth);var n=this.getLabelStartX();this.tree.alignLabels&&(n+=Math.abs(this.tree.labelAlign.getLabelOffset(this))),this.angle>h.QUARTER&&this.angle<h.HALF+h.QUARTER&&(this.canvas.rotate(h.HALF),n=-n-1*this.labelWidth),this.canvas.beginPath(),this.canvas.fillStyle=this.getTextColour(),this.canvas.fillText(e,n,t/2),this.canvas.closePath(),this.angle>h.QUARTER&&this.angle<h.HALF+h.QUARTER&&this.canvas.rotate(h.HALF)}},{key:"setNodeDimensions",value:function(t,e,n){var r=n;(n*this.tree.zoom<5||!this.leaf)&&(r=5/this.tree.zoom),this.minx=t-r,this.maxx=t+r,this.miny=e-r,this.maxy=e+r}},{key:"drawCollapsed",value:function(t,e){var n=this.getChildProperties("id"),r=n.length;this.tree.scaleCollapsedNode&&(r=this.tree.scaleCollapsedNode(r)),this.canvas.globalAlpha=.3,this.canvas.beginPath(),this.canvas.arc(t,e,r,0,2*Math.PI,!1),this.canvas.fillStyle=this.tree.defaultCollapsedOptions.color?this.tree.defaultCollapsedOptions.color:"purple",this.canvas.fill(),this.canvas.globalAlpha=1,this.canvas.closePath()}},{key:"drawLabelConnector",value:function(){var t=this.tree,e=t.highlightColour,n=t.labelAlign;this.canvas.save(),this.canvas.lineWidth=this.canvas.lineWidth/4,this.canvas.strokeStyle=this.isHighlighted?e:this.getColour(),this.canvas.beginPath(),this.canvas.moveTo(this.getRadius(),0),this.canvas.lineTo(n.getLabelOffset(this)+this.getDiameter(),0),this.canvas.stroke(),this.canvas.closePath(),this.canvas.restore()}},{key:"drawLeaf",value:function(){
var t=this.tree,e=t.alignLabels,n=t.canvas;e&&this.drawLabelConnector(),n.save(),l["default"][this.nodeShape](n,this.getRadius(),this.getLeafStyle()),n.restore(),(this.tree.showLabels||this.tree.hoverLabel&&this.isHighlighted)&&this.drawLabel()}},{key:"drawHighlight",value:function(t,e){this.canvas.save(),this.canvas.beginPath(),this.canvas.strokeStyle=this.tree.highlightColour,this.canvas.lineWidth=this.getHighlightLineWidth();var n=this.getHighlightRadius();this.canvas.arc(t,e,n,0,h.FULL,!1),this.canvas.stroke(),this.canvas.closePath(),this.canvas.restore()}},{key:"drawNode",value:function(){var t=this.getRadius(),e=t,n=this.leaf?e*Math.cos(this.angle)+this.centerx:this.centerx,r=this.leaf?e*Math.sin(this.angle)+this.centery:this.centery;this.setNodeDimensions(n,r,t),this.collapsed?this.drawCollapsed(n,r):this.leaf&&(this.canvas.save(),this.canvas.translate(this.centerx,this.centery),this.canvas.rotate(this.angle),this.drawLeaf(),this.canvas.restore()),this.isHighlighted&&this.tree.highlighters.push(this.drawHighlight.bind(this,n,r))}},{key:"getChildProperties",value:function(t){if(this.leaf)return[this[t]];for(var e=[],n=0;n<this.children.length;n++)e=e.concat(this.children[n].getChildProperties(t));return e}},{key:"getChildCount",value:function(){if(this.leaf)return 1;for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].getChildCount();return t}},{key:"getChildYTotal",value:function(){if(this.leaf)return this.centery;for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].getChildYTotal();return t}},{key:"cascadeFlag",value:function(t,e,n){if("undefined"==typeof this[t])throw new Error("Unknown property: "+t);("undefined"==typeof n||n(this,t,e))&&(this[t]=e);var r=!0,a=!1,i=void 0;try{for(var s,o=this.children[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;l.cascadeFlag(t,e,n)}}catch(h){a=!0,i=h}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}}},{key:"reset",value:function(){var t,e;for(this.startx=0,this.starty=0,this.centerx=0,this.centery=0,this.angle=null,this.minChildAngle=h.FULL,this.maxChildAngle=0,e=0;e<this.children.length;e++)try{this.children[t].pcReset()}catch(n){return n}}},{key:"redrawTreeFromBranch",value:function(){this.tree.redrawFromBranch(this)}},{key:"extractChildren",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,a=this.children[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;this.tree.storeNode(i),i.extractChildren()}}catch(s){e=!0,n=s}finally{try{!t&&a["return"]&&a["return"]()}finally{if(e)throw n}}}},{key:"hasCollapsedAncestor",value:function(){return this.parent?this.parent.collapsed||this.parent.hasCollapsedAncestor():!1}},{key:"collapse",value:function(){this.collapsed=this.leaf===!1}},{key:"expand",value:function(){this.collapsed=!1}},{key:"toggleCollapsed",value:function(){this.collapsed?this.expand():this.collapse()}},{key:"setTotalLength",value:function(){var t;for(this.parent?(this.totalBranchLength=this.parent.totalBranchLength+this.branchLength,this.totalBranchLength>this.tree.maxBranchLength&&(this.tree.maxBranchLength=this.totalBranchLength)):(this.totalBranchLength=this.branchLength,this.tree.maxBranchLength=this.totalBranchLength),t=0;t<this.children.length;t++)this.children[t].setTotalLength()}},{key:"addChild",value:function(t){t.parent=this,t.canvas=this.canvas,t.tree=this.tree,this.leaf=!1,this.children.push(t)}},{key:"getChildColours",value:function(){var t=[];return this.children.forEach(function(e){var n=0===e.children.length?e.colour:e.getColour();-1===t.indexOf(n)&&t.push(n)}),t}},{key:"getColour",value:function(t){return this.selected?this.tree.selectedColour:t||this.colour||this.tree.branchColour}},{key:"getNwk",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.leaf)return this.label+":"+this.branchLength;var e=this.children.map(function(t){return t.getNwk(!1)});return"("+e.join(",")+"):"+this.branchLength+(t?";":"")}},{key:"getTextColour",value:function(){if(this.selected)return this.tree.selectedColour;if(this.isHighlighted)return this.tree.highlightColour;if(this.tree.backColour&&this.children.length){var t=this.getChildColours();if(1===t.length)return t[0]}return this.labelStyle.colour||this.colour||this.tree.branchColour}},{key:"getLabel",value:function(){return void 0!==this.label&&null!==this.label?this.label:""}},{key:"getTextSize",value:function(){return this.labelStyle.textSize||this.tree.textSize}},{key:"getFontString",value:function(){var t=this.labelStyle.font||this.tree.font;return(this.labelStyle.format||"")+" "+this.getTextSize()+"pt "+t}},{key:"getLabelSize",value:function(){return this.canvas.font=this.getFontString(),this.canvas.measureText(this.getLabel()).width}},{key:"getRadius",value:function(){return this.leaf?this.tree.baseNodeSize*this.radius:this.tree.baseNodeSize/this.radius}},{key:"getDiameter",value:function(){return 2*this.getRadius()}},{key:"hasLabelConnector",value:function(){return this.tree.alignLabels?this.tree.labelAlign.getLabelOffset(this)>this.getDiameter():!1}},{key:"getLabelStartX",value:function(){var t=this.getLeafStyle(),e=t.lineWidth,n=this.hasLabelConnector(),r=this.getDiameter();return this.isHighlighted&&!n&&(r+=this.getHighlightSize()-this.getRadius()),this.isHighlighted||n||(r+=e/2),r+Math.min(this.tree.labelPadding,this.tree.labelPadding/this.tree.zoom)}},{key:"getHighlightLineWidth",value:function(){return this.tree.highlightWidth/this.tree.zoom}},{key:"getHighlightRadius",value:function(){var t=this.getHighlightLineWidth()*this.tree.highlightSize;return t+=this.getLeafStyle().lineWidth/this.tree.highlightSize,this.leaf?this.getRadius()+t:.666*t}},{key:"getHighlightSize",value:function(){return this.getHighlightRadius()+this.getHighlightLineWidth()}},{key:"rotate",value:function(t){for(var e=[],n=this.children.length;n--;)e.push(this.children[n]);this.children=e,t.preventredraw||(this.tree.extractNestedBranches(),this.tree.draw(!0))}},{key:"getChildNo",value:function(){return this.parent.children.indexOf(this)}},{key:"setDisplay",value:function(t){var e=t.colour,n=t.shape,r=t.size,a=t.leafStyle,i=t.labelStyle;e&&(this.colour=e),n&&(this.nodeShape=c[n]?c[n]:n),r&&(this.radius=r),a&&(this.leafStyle=a),i&&(this.labelStyle=i)}},{key:"getTotalLength",value:function(){var t=this.getRadius();return(this.tree.showLabels||this.tree.hoverLabel&&this.isHighlighted)&&(t+=this.getLabelStartX()+this.getLabelSize()),t}},{key:"getBounds",value:function(){var t=this.tree,e=t.alignLabels?t.labelAlign.getX(this):this.centerx,n=t.alignLabels?t.labelAlign.getY(this):this.centery,r=this.getRadius(),a=this.getTotalLength(),i=void 0,s=void 0,o=void 0,l=void 0;return this.angle>h.QUARTER&&this.angle<h.HALF+h.QUARTER?(i=e+a*Math.cos(this.angle),o=n+a*Math.sin(this.angle),s=e-r,l=n-r):(i=e-r,o=n-r,s=e+a*Math.cos(this.angle),l=n+a*Math.sin(this.angle)),u.minx=Math.min(i,s,e-this.getHighlightSize()),u.miny=Math.min(o,l,n-this.getHighlightSize()),u.maxx=Math.max(i,s,e+this.getHighlightSize()),u.maxy=Math.max(o,l,n+this.getHighlightSize()),u}},{key:"getLeafStyle",value:function(){var t=this.leafStyle,e=t.strokeStyle,n=t.fillStyle,r=this.tree.zoom;d.strokeStyle=this.getColour(e),d.fillStyle=this.getColour(n);var a="undefined"!=typeof this.leafStyle.lineWidth?this.leafStyle.lineWidth:this.tree.lineWidth;return d.lineWidth=a/r,d}},{key:"isHighlighted",get:function(){return this.highlighted||this.hovered}}],[{key:"generateId",value:function(){return"pcn"+this.lastId++}}]),t}();f.lastId=0,e["default"]=f},function(t,e,n){"use strict";function r(t,e){t.beginPath(),t.moveTo(0,0),t.lineTo(e,0),t.stroke(),t.closePath()}function a(t,e){var n=e.lineWidth,r=e.strokeStyle,a=e.fillStyle;t.save(),t.lineWidth=n,t.strokeStyle=r,t.fillStyle=a,t.fill(),n>0&&r!==a&&t.stroke(),t.restore()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),s=i.constants.Angles,o=function(t){return t*Math.sqrt(2)};e["default"]={circle:function(t,e,n){var i=Math.pow(o(e),2),l=Math.sqrt(i/Math.PI);r(t,e-l),t.beginPath(),t.arc(e,0,l,0,s.FULL,!1),t.closePath(),a(t,n)},square:function(t,e,n){var i=o(e),s=e-i/2;r(t,s),t.beginPath(),t.moveTo(s,0),t.lineTo(s,i/2),t.lineTo(s+i,i/2),t.lineTo(s+i,-i/2),t.lineTo(s,-i/2),t.lineTo(s,0),t.closePath(),a(t,n)},star:function(t,e,n){var i=e,s=0,o=5,l=e,h=.5*l,c=Math.PI/o;r(t,l-h);var u=Math.PI/2*3;t.beginPath(),t.moveTo(i,s-l);for(var d=0;o>d;d++){var f=i+Math.cos(u)*l,v=s+Math.sin(u)*l;t.lineTo(f,v),u+=c,f=i+Math.cos(u)*h,v=s+Math.sin(u)*h,t.lineTo(f,v),u+=c}t.lineTo(i,s-l),t.closePath(),a(t,n)},triangle:function(t,e,n){var i=2*e*Math.cos(30*Math.PI/180),s=Math.sqrt(3)/2*i,o=1/Math.sqrt(3)*(i/2);r(t,e-o),t.beginPath(),t.moveTo(e,o),t.lineTo(e+i/2,o),t.lineTo(e,-(s-o)),t.lineTo(e-i/2,o),t.lineTo(e,o),t.closePath(),a(t,n)}}},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.className,r=void 0===n?"phylocanvas-tooltip":n,a=e.element,i=void 0===a?document.createElement("div"):a,s=e.zIndex,o=void 0===s?2e3:s,l=e.parent,h=void 0===l?t.containerElement:l;this.tree=t,this.element=i,this.element.className=r,this.element.style.display="none",this.element.style.position="fixed",this.element.style.zIndex=o,this.closed=!0,h.appendChild(this.element)}function r(t,e){n.call(this,t,e),this.element.style.background="rgba(97, 97, 97, 0.9)",this.element.style.color="#fff",this.element.style.cursor="pointer",this.element.style.padding="8px",this.element.style.marginTop="16px",this.element.style.borderRadius="2px",this.element.style.textAlign="center",this.element.style.fontFamily=this.tree.font||"sans-serif",this.element.style.fontSize="10px",this.element.style.fontWeight="500"}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,e.ChildNodesTooltip=r,n.prototype.close=function(){this.element.style.display="none",this.closed=!0},n.prototype.open=function(){for(var t=arguments.length<=0||void 0===arguments[0]?100:arguments[0],e=arguments.length<=1||void 0===arguments[1]?100:arguments[1],n=arguments[2];this.element.hasChildNodes();)this.element.removeChild(this.element.firstChild);this.createContent(n),this.element.style.top=e+"px",this.element.style.left=t+"px",this.element.style.display="block",this.closed=!1},r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.createContent=function(t){var e=document.createTextNode(t.getChildProperties("id").length);this.element.appendChild(e)}},function(t,e){"use strict";function n(t){this.tree=t,this.cel=document.createElement("canvas"),this.cel.id=this.tree.containerElement.id+"Navi",this.cel.style.zIndex="100",this.cel.style.backgroundColor="#FFFFFF",this.cel.width=this.tree.canvas.canvas.width/3,this.cel.height=this.tree.canvas.canvas.height/3,this.cel.style.position="absolute",this.cel.style.bottom="0px",this.cel.style.right="0px",this.cel.style.border="1px solid #CCCCCC",this.tree.containerElement.appendChild(this.cel),this.ctx=this.cel.getContext("2d"),this.ctx.translate(this.cel.width/2,this.cel.height/2),this.ctx.save()}n.prototype.drawFrame=function(){var t,e,n,r=this.cel.width,a=this.cel.height,i=r/2,s=a/2;this.ctx.restore(),this.ctx.save(),this.ctx.clearRect(-i,-s,r,a),this.ctx.strokeStyle="rgba(180,180,255,1)",this.tree.drawn?this.ctx.drawImage(this.img,-i,-s,this.cel.width,this.cel.height):(t=this.tree.canvas.canvas.toDataURL(),this.img=document.createElement("img"),this.img.src=t,e=this,this.img.onload=function(){e.ctx.drawImage(e.img,-i,-s,e.cel.width,e.cel.height)},this.baseOffsetx=this.tree.offsetx,this.baseOffsety=this.tree.offsety,this.baseZoom=this.tree.zoom),n=1/(this.tree.zoom/this.baseZoom),this.ctx.lineWidth=this.ctx.lineWidth/n,this.ctx.translate((this.baseOffsetx-this.tree.offsetx*n)*n,(this.baseOffsety-this.tree.offsety*n)*n),this.ctx.scale(n,n),this.ctx.strokeRect(-i,-s,r,a)},n.prototype.resize=function(){this.cel.width=this.tree.canvas.canvas.width/3,this.cel.height=this.tree.canvas.canvas.height/3,this.ctx.translate(this.cel.width/2,this.cel.height/2),this.drawFrame()},t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(12),i=r(a),s=n(17),o=r(s),l=n(20),h=r(l),c=n(23),u=r(c),d=n(26),f=r(d);e["default"]={rectangular:i["default"],circular:o["default"],radial:h["default"],diagonal:u["default"],hierarchical:f["default"]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(13),i=r(a),s=n(14),o=r(s),l=n(15),h=r(l),c=n(16),u=r(c),d={getX:function(t){return t.tree.farthestNodeFromRootX*t.tree.currentBranchScale},getY:function(t){return t.centery},getLabelOffset:function(t){return t.tree.farthestNodeFromRootX*t.tree.currentBranchScale-t.centerx}};e["default"]={branchRenderer:new i["default"](h["default"]),prerenderer:new o["default"](u["default"]),labelAlign:d,branchScalingAxis:"x"}},function(t,e){"use strict";function n(t){if(!t||!t.draw)throw new Error("`draw` function is required for branch renderers");this.draw=t.draw,this.prepareChild=t.prepareChild}n.prototype.render=function(t,e,n){var r;if(!n&&e&&(e.selected?e.canvas.fillStyle=t.selectedColour:e.canvas.fillStyle=e.colour,e.canvas.strokeStyle=e.getColour(),this.draw(t,e),!e.pruned))for(e.drawNode(),r=0;r<e.children.length;r++)this.prepareChild&&this.prepareChild(e,e.children[r]),this.render(t,e.children[r],e.collapsed||n)},t.exports=n},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(e){n(this,t),this.getStep=e.getStep,this.calculate=e.calculate}return r(t,[{key:"run",value:function(t){var e=this.getStep(t);t.root.startx=0,t.root.starty=0,t.root.centerx=0,t.root.centery=0,t.farthestNodeFromRootX=0,t.farthestNodeFromRootY=0,t.currentBranchScale=1,this.calculate(t,e),t.initialBranchScalar=t.branchScalar,t.root.startx=t.root.centerx,t.root.starty=t.root.centery,t.setFontSize(e),t.setMaxLabelLength()}}]),t}();e["default"]=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){var n=e.branchLength*t.branchScalar;e.angle=0,e.parent&&(e.centerx=e.startx+n),e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.startx,e.centery),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={getStep:function(t){return t.fillCanvas?t.canvas.canvas.height/t.leaves.length:Math.max(t.canvas.canvas.height/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){t.branchScalar=t.canvas.canvas.width/t.maxBranchLength;for(var n=0;n<t.leaves.length;n++){t.leaves[n].angle=0,t.leaves[n].centery=n>0?t.leaves[n-1].centery+e:0,t.leaves[n].centerx=t.leaves[n].totalBranchLength*t.branchScalar,t.leaves[n].centerx>t.farthestNodeFromRootX&&(t.farthestNodeFromRootX=t.leaves[n].centerx),t.leaves[n].centery>t.farthestNodeFromRootY&&(t.farthestNodeFromRootY=t.leaves[n].centery);for(var r=t.leaves[n];r.parent;r=r.parent){var a=r.parent.children;r.parent.centery=(a[0].centery+a[a.length-1].centery)/2}}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(13),i=r(a),s=n(14),o=r(s),l=n(18),h=r(l),c=n(19),u=r(c),d={getX:function(t){return t.centerx+t.labelOffsetX+t.getDiameter()*Math.cos(t.angle)},getY:function(t){return t.centery+t.labelOffsetY+t.getDiameter()*Math.sin(t.angle)},getLabelOffset:function(t){return t.labelOffsetX/Math.cos(t.angle)}};e["default"]={branchRenderer:new i["default"](h["default"]),prerenderer:new o["default"](u["default"]),labelAlign:d,scaleCollapsedNode:function(t){return t/3},calculateFontSize:function(t){return Math.min(10*t+4,40)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){var n=e.totalBranchLength*t.branchScalar;e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath(),e.canvas.strokeStyle=e.getColour(),e.children.length>1&&!e.collapsed&&(e.canvas.beginPath(),e.canvas.arc(0,0,n,e.minChildAngle,e.maxChildAngle,e.maxChildAngle<e.minChildAngle),e.canvas.stroke(),e.canvas.closePath())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=r.constants.Angles;e["default"]={getStep:function(t){return a.FULL/t.leaves.length},calculate:function(t,e){t.branchScalar=Math.min(t.canvas.canvas.width,t.canvas.canvas.height)/t.maxBranchLength;var n=t.leaves.length*t.leaves[0].getDiameter()/a.FULL;t.branchScalar*t.maxBranchLength>n?n=t.branchScalar*t.maxBranchLength:t.branchScalar=n/t.maxBranchLength;for(var r=0;r<t.leaves.length;r++){var i=t.leaves[r];for(i.angle=e*r,i.startx=i.parent.totalBranchLength*t.branchScalar*Math.cos(i.angle),i.starty=i.parent.totalBranchLength*t.branchScalar*Math.sin(i.angle),i.centerx=i.totalBranchLength*t.branchScalar*Math.cos(i.angle),i.centery=i.totalBranchLength*t.branchScalar*Math.sin(i.angle),i.labelOffsetX=n*Math.cos(i.angle)-i.centerx,i.labelOffsetY=n*Math.sin(i.angle)-i.centery;i.parent&&(0===i.getChildNo()&&(i.parent.angle=i.angle,i.parent.minChildAngle=i.angle),i.getChildNo()===i.parent.children.length-1);i=i.parent)i.parent.maxChildAngle=i.angle,i.parent.angle=(i.parent.minChildAngle+i.parent.maxChildAngle)/2,i.parent.startx=(i.parent.totalBranchLength-i.parent.branchLength)*t.branchScalar*Math.cos(i.parent.angle),i.parent.starty=(i.parent.totalBranchLength-i.parent.branchLength)*t.branchScalar*Math.sin(i.parent.angle),i.parent.centerx=i.parent.totalBranchLength*t.branchScalar*Math.cos(i.parent.angle),i.parent.centery=i.parent.totalBranchLength*t.branchScalar*Math.sin(i.parent.angle)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(13),i=r(a),s=n(14),o=r(s),l=n(21),h=r(l),c=n(22),u=r(c);e["default"]={branchRenderer:new i["default"](h["default"]),prerenderer:new o["default"](u["default"]),scaleCollapsedNode:function(t){return t/7},calculateFontSize:function(t){return Math.min(50*t+5,15)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()}}},function(t,e,n){"use strict";function r(t,e){e.parent?(e.startx=e.parent.centerx,e.starty=e.parent.centery):(e.startx=0,e.starty=0),e.centerx=e.startx+e.branchLength*t.branchScalar*Math.cos(e.angle),e.centery=e.starty+e.branchLength*t.branchScalar*Math.sin(e.angle);for(var n=0;n<e.children.length;n++)r(t,e.children[n])}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),i=a.constants.Angles;e["default"]={getStep:function(t){return i.FULL/t.leaves.length},calculate:function(t,e){t.branchScalar=Math.min(t.canvas.canvas.width,t.canvas.canvas.height)/t.maxBranchLength;for(var n=0;n<t.leaves.length;n+=1){t.leaves[n].angle=e*n,t.leaves[n].centerx=t.leaves[n].totalBranchLength*t.branchScalar*Math.cos(t.leaves[n].angle),t.leaves[n].centery=t.leaves[n].totalBranchLength*t.branchScalar*Math.sin(t.leaves[n].angle);for(var a=t.leaves[n];a.parent&&(0===a.getChildNo()&&(a.parent.angle=0),a.parent.angle+=a.angle*a.getChildCount(),a.getChildNo()===a.parent.children.length-1);a=a.parent)a.parent.angle=a.parent.angle/a.parent.getChildCount()}r(t,t.root)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(13),i=r(a),s=n(14),o=r(s),l=n(24),h=r(l),c=n(25),u=r(c);e["default"]={branchRenderer:new i["default"](h["default"]),prerenderer:new o["default"](u["default"]),calculateFontSize:function(t){return Math.min(t/2,10)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){e.angle=0,e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=r.constants.Angles;e["default"]={getStep:function(t){return Math.max(t.canvas.canvas.height/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){for(var n=0;n<t.leaves.length;n++){t.leaves[n].centerx=0,t.leaves[n].centery=n>0?t.leaves[n-1].centery+e:0,t.leaves[n].angle=0;for(var r=t.leaves[n];r.parent&&r.getChildNo()===r.parent.children.length-1;r=r.parent){r.parent.centery=r.parent.getChildYTotal()/r.parent.getChildCount(),r.parent.centerx=r.parent.children[0].centerx+(r.parent.children[0].centery-r.parent.centery)*Math.tan(a.FORTYFIVE);for(var i=0;i<r.parent.children.length;i++)r.parent.children[i].startx=r.parent.centerx,r.parent.children[i].starty=r.parent.centery}}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(13),i=r(a),s=n(14),o=r(s),l=n(27),h=r(l),c=n(28),u=r(c),d={getX:function(t){return t.centerx},getY:function(t){return t.tree.farthestNodeFromRootY*t.tree.currentBranchScale},getLabelOffset:function(t){return t.tree.farthestNodeFromRootY*t.tree.currentBranchScale-t.centery}};e["default"]={branchRenderer:new i["default"](h["default"]),prerenderer:new o["default"](u["default"]),labelAlign:d,branchScalingAxis:"y"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={draw:function(t,e){var n=e.branchLength*t.branchScalar;e.parent&&(e.centery=e.starty+n),e.canvas.beginPath(),e!==e.tree.root&&(e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.starty)),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=r.constants.Angles;e["default"]={getStep:function(t){return t.fillCanvas?t.canvas.canvas.width/t.leaves.length:Math.max(t.canvas.canvas.width/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){t.branchScalar=t.canvas.canvas.height/t.maxBranchLength;for(var n=0;n<t.leaves.length;n++){t.leaves[n].angle=a.QUARTER,t.leaves[n].centerx=n>0?t.leaves[n-1].centerx+e:0,t.leaves[n].centery=t.leaves[n].totalBranchLength*t.branchScalar;for(var r=t.leaves[n];r.parent&&(0===r.getChildNo()&&(r.parent.centerx=r.centerx),r.getChildNo()===r.parent.children.length-1);r=r.parent){r.parent.angle=a.QUARTER,r.parent.centerx=(r.parent.centerx+r.centerx)/2,r.parent.centery=r.parent.totalBranchLength*t.branchScalar;for(var i=0;i<r.parent.children.length;i++)r.parent.children[i].startx=r.parent.centerx,r.parent.children[i].starty=r.parent.centery}t.leaves[n].centerx>t.farthestNodeFromRootX&&(t.farthestNodeFromRootX=t.leaves[n].centerx),t.leaves[n].centery>t.farthestNodeFromRootY&&(t.farthestNodeFromRootY=t.leaves[n].centery)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(30),i=r(a),s=n(31),o=r(s),l=n(32),h=r(l);e["default"]={nexus:new i["default"](h["default"]),newick:new i["default"](o["default"])}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(e){var r=e.format,a=e.parseFn,i=e.fileExtension,s=e.validator;n(this,t),this.format=r,this.parseFn=a,this.fileExtension=i,this.validator=s}return r(t,[{key:"parse",value:function(t,e){var n=t.formatString,r=t.root,a=t.options,i=void 0===a?{validate:!0}:a;return n.match(this.validator)||i.validate===!1?this.parseFn({string:n,root:r,options:i},e):e(new Error('Format string does not validate as "'+this.format+'"'))}}]),t}();e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t){return this===t}function i(t){var e="",n=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;if(p.some(a.bind(l)))break;e+=l}}catch(h){r=!0,i=h}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw i}}return e}function s(t,e){var n=t.split("**"),r={};if(e.id=n[0],1!==n.length){n=n[1].split("*");for(var a=0;a<n.length;a+=2){var i=n[a+1];switch(n[a]){case"nsz":r.size=window.parseInt(i);break;case"nsh":r.shape=i;break;case"ncol":r.colour=i}}e.setDisplay(r)}}function o(t){var e="",n=!0,r=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value;if(g.some(a.bind(l)))break;e+=l}}catch(h){r=!0,i=h}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw i}}return e}function l(t,e,n){var r=i(e.slice(n)),a=n+r.length,l="";return r.match(/\*/)&&s(r,t),":"===e[a]?(l=o(e.slice(a+1)),t.branchLength=Math.max(parseFloat(l),0)):t.branchLength=0,r&&(t.label=r),t.id=r||u["default"].generateId(),a+l.length}function h(t,e){for(var n=t.string,r=t.root,a=n.replace(/(\r|\n)/g,""),i=r,s=0;s<a.length;s++){var o=void 0;switch(a[s]){case"(":o=new u["default"],i.addChild(o),i=o;break;case")":i=i.parent;break;case",":o=new u["default"],i.parent.addChild(o),i=o;break;case";":break;default:try{s=l(i,a,s)}catch(h){return e(h)}}}return e()}Object.defineProperty(e,"__esModule",{value:!0});var c=n(7),u=r(c),d="newick",f=/\.nwk$/,v=/^[\w\W\.\*\:(\),-\/]+;\s?$/gi,p=[":",",",")",";"],g=[")",",",";"];e["default"]={format:d,fileExtension:f,validator:v,parseFn:h}},function(t,e,n){"use strict";function r(t,e){var n=t.string,r=t.root,i=t.options;if(!n.match(/BEGIN TREES/gi))return e(new Error("The nexus file does not contain a tree block"));var s=i.name,o=n.match(/BEGIN TREES;[\S\s]+END;/i)[0].replace(/BEGIN TREES;\n/i,"").replace(/END;/i,""),l={},h=o.match(/TRANSLATE[^;]+;/i);if(h&&h.length){h=h[0],o=o.replace(h,""),h=h.replace(/translate|;/gi,"");for(var c=h.split(","),u=0;u<c.length;u++){var d=c[u].trim().replace("\n","").split(" ");d[0]&&d[1]&&(l[d[0].trim()]=d[1].trim())}}for(var f=o.split("\n"),v={},u=0;u<f.length;u++)if(""!==f[u].trim()){var p=f[u].replace(/tree\s/i,"");s||(s=p.trim().match(/^\w+/)[0]),v[s]=p.trim().match(/[\S]*$/)[0]}return v[s]?void(0,a.parseFn)({string:v[s].trim(),root:r},function(t){if(t)return e(t);if(e(),l){var n=!0,a=!1,i=void 0;try{for(var s,o=Object.keys(l)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var h=s.value,c=r.tree.branches,u=c[h];delete c[h],u.id=l[h],c[u.id]=u}}catch(d){a=!0,i=d}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}r.tree.draw()}}):new Error("tree "+s+" does not exist in this NEXUS file")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(31),i="nexus",s=/\.n(ex|xs)$/,o=/^#NEXUS[\s\n;\w\W\.\*\:(\),-=\[\]\/&]+$/i;e["default"]={parseFn:r,format:i,fileExtension:s,validator:o}}])})},function(t,e,n){!function(e,r){t.exports=r(n(2))}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t,e){var n=t.url,r=t.method,a=t.data,i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&e(i)},i.open(r,n,!0),"GET"===r?i.send():i.send(a)}function a(t){t(s.Tree,"build",function(t,e){var n=this,a=i(e,3),s=a[0],o=a[1],l=a[2];l.ajax||s.match(o.fileExtension)?r({url:s,method:"GET"},function(e){if(e.status>=400){var r=new Error(e.responseText);return l.callback&&l.callback(r),n.loadError(r)}t.call(n,e.responseText,o,l)}):t.apply(this,e)})}var i=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a;var s=n(1)},function(e,n){e.exports=t}])})},function(t,e,n){!function(e,r){t.exports=r(n(2))}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){t(o["default"],"createTree",function(t,e){var n=t.apply(void 0,a(e));return n.showMetadata=!1,n.selectedMetadataColumns=[],n.metadataXStep=15,n.metadataHeadingDrawn=!1,n.colour1="rgba(206,16,16,1)",n.colour0="#ccc",n}),t(s.Tree,"draw",function(t,e){t.apply(this,e),this.metadataHeadingDrawn=!1}),t(s.Branch,"drawLeaf",function(t){t.call(this),this.tree.showMetadata&&this.drawMetadata()}),t(s.Branch,"getTotalSize",function(t){var e=t.call(this);return this.tree.showMetadata&&(e+=this.tree.getMetadataColumnHeadings().length*this.tree.metadataXStep),e})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var s=n(1),o=r(s);s.Tree.prototype.viewMetadataColumns=function(){var t=arguments.length<=0||void 0===arguments[0]?this.getMetadataColumnHeadings():arguments[0];this.showMetadata=!0,this.selectedMetadataColumns=t,this.fitInPanel(),this.draw()},s.Tree.prototype.getMetadataColumnHeadings=function(){for(var t=[],e=0;e<this.leaves.length;e++)if(Object.keys(this.leaves[e].data).length>0){t=Object.keys(this.leaves[e].data);break}return t},s.Tree.prototype.clearMetadata=function(){for(var t=0;t<this.leaves.length;t++)Object.keys(this.leaves[t].data).length>0&&(this.leaves[t].data={})},s.Branch.prototype.drawMetadata=function(){var t=0;(this.tree.showLabels||this.tree.hoverLabel&&this.highlighted)&&(t=this.tree.maxLabelLength[this.tree.treeType]);var e,n,r=this.getLabelStartX()+t,a=0,i=[],s=this.tree.textSize,o=this.tree.metadataXStep/2;this.tree.alignLabels&&("rectangular"===this.tree.treeType?r+=this.tree.farthestNodeFromRootX-this.centerx:"hierarchical"===this.tree.treeType&&(r+=this.tree.farthestNodeFromRootY-this.centery)),!this.tree.metadataHeadingDrawn&&this.tree.alignLabels&&"circular"!==this.tree.treeType&&"radial"!==this.tree.treeType&&(this.drawMetadataHeading(r,a),this.tree.metadataHeadingDrawn=!0);var l=this.tree.metadataXStep;if(Object.keys(this.data).length>0){for(this.canvas.beginPath(),i=this.tree.selectedMetadataColumns.length>0?this.tree.selectedMetadataColumns:Object.keys(this.data),a-=s/2,e=0;e<i.length;e++)n=i[e],r+=l,window.parseInt(this.data[n])?(this.canvas.fillStyle=this.tree.colour1,this.canvas.fillRect(r,a,o,s)):0===window.parseInt(this.data[n])&&(this.canvas.fillStyle=this.tree.colour0,this.canvas.fillRect(r,a,o,s));this.canvas.stroke(),this.canvas.closePath()}},s.Branch.prototype.drawMetadataHeading=function(t,e){var n,r,a;for(n=this.tree.selectedMetadataColumns.length>0?this.tree.selectedMetadataColumns:Object.keys(this.data),this.canvas.font="12px Sans-serif",this.canvas.fillStyle="black",
a=0;a<n.length;a++)r=n[a],t+=this.tree.metadataXStep,this.canvas.rotate(-Math.PI/2),"rectangular"===this.tree.treeType?(this.canvas.textAlign="left",this.canvas.fillText(r,20,t+6)):"hierarchical"===this.tree.treeType?(this.canvas.textAlign="right",this.canvas.fillText(r,-20,t+8)):"diagonal"===this.tree.treeType&&(this.canvas.textAlign="left",this.canvas.fillText(r,20,t+6)),this.canvas.rotate(Math.PI/2)}},function(e,n){e.exports=t}])})},function(t,e,n){!function(e,r){t.exports=r(n(2))}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){var e=t.text,n=void 0===e?"link":e,r=t.filename,a=void 0===r?"file":r,i=t.href,s=document.createElement("a");return s.appendChild(document.createTextNode(n)),s.href=i,s.download=a,s}function i(t){var e=t.tree,n=t.filenames;return a({text:this.text,filename:n.image,href:e.getPngUrl()})}function s(t,e){var n=t.tree,r=t.filenames;return a({text:this.text,filename:r.leafLabels,href:g((e||n.root).getChildProperties("label").join("\n"))})}function o(t,e){var n=t.tree,r=t.filenames;return a({text:this.text,filename:r.newick,href:g((e||n.root).getNwk())})}function l(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=e.menuItems,a=void 0===r?y:r,i=e.branchMenuItems,s=void 0===i?m:i,o=e.unstyled,l=void 0===o?!1:o,h=e.className,c=void 0===h?"":h,u=e.parent,f=e.filenames,v=void 0===f?b:f;d.Tooltip.call(this,t,{className:("phylocanvas-context-menu "+c).trim(),element:document.createElement("ul"),parent:u}),this.menuItems=a,this.branchMenuItems=s,this.filenames=v,l||n(2),this.element.addEventListener("click",function(t){t.stopPropagation()})}function h(t){if(2===t.button){t.preventDefault();var e=this.getNodeAtMousePosition(t);this.contextMenu.open(t.clientX,t.clientY,e&&e.interactive?e:null),this.contextMenu.closed=!1,this.tooltip.close()}}function c(t){t(this,"createTree",function(t,e){var n=t.apply(void 0,r(e)),a=u(e,2),i=a[1],s=void 0===i?{}:i;return n.contextMenu=new l(n,s.contextMenu),n.addListener("contextmenu",h.bind(n)),n}),this.ContextMenu=l}var u=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_BRANCH_MENU_ITEMS=e.DEFAULT_MENU_ITEMS=void 0,e["default"]=c;var d=n(1),f=d.utils.events,v=f.createHandler,p=f.preventDefault,g=d.utils.dom.createBlobUrl,y=e.DEFAULT_MENU_ITEMS=[[{text:"Show/Hide Labels",handler:"toggleLabels"},{text:"Align/Realign Labels",handler:function(t){t.alignLabels=!t.alignLabels}}],[{text:"Redraw Original Tree",handler:"redrawOriginalTree"}],[{text:"Export Leaf Labels",element:s},{text:"Export as Newick File",element:o},{text:"Export as Image",element:i}]],m=e.DEFAULT_BRANCH_MENU_ITEMS=[[{text:"Collapse/Expand Subtree",handler:function(t){t.toggleCollapsed(),t.tree.draw()}},{text:"Rotate Subtree",handler:"rotate"}],[{text:"Redraw Subtree",handler:"redrawTreeFromBranch"}],[{text:"Export Subtree Leaf Labels",element:s},{text:"Export Subtree as Newick File",element:o}]],b={image:"phylocanvas.png",leafLabels:"phylocanvas-leaf-labels.txt",newick:"phylocanvas.nwk"};l.prototype=Object.create(d.Tooltip.prototype),l.prototype.constructor=l,l.prototype.createSublist=function(t,e){var n=document.createElement("ul"),r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value,h=document.createElement("li");l.element?h.appendChild(l.element(this,e)):(h.appendChild(document.createTextNode(l.text)),h.addEventListener("click",v(e||this.tree,l.handler))),h.addEventListener("click",v(this,"close")),h.addEventListener("contextmenu",p),n.appendChild(h)}}catch(c){a=!0,i=c}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}n.hasChildNodes()&&this.element.appendChild(n)},l.prototype.createContent=function(t){var e=t?this.branchMenuItems:this.menuItems,n=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var o=i.value;this.createSublist(o,t)}}catch(l){r=!0,a=l}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw a}}document.body.addEventListener("click",v(this,"close"))}},function(e,n){e.exports=t},function(t,e,n){var r=n(3);"string"==typeof r&&(r=[[t.id,r,""]]),n(5)(r,{}),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(4)(),e.push([t.id,".phylocanvas-context-menu,.phylocanvas-context-menu ul{list-style:outside none none;margin:0}.phylocanvas-context-menu{background:#fff;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);letter-spacing:0;list-style:outside none none;min-width:124px;padding:8px 0}.phylocanvas-context-menu ul{padding:0}.phylocanvas-context-menu ul+ul{border-top:1px solid #e0e0e0;margin-top:8px;padding-top:8px}.phylocanvas-context-menu li{padding:0 16px;outline-color:#bdbdbd;height:40px;line-height:40px;text-decoration:none;background-color:transparent;cursor:pointer;font-size:13px;font-family:Helvetica,Arial,sans-serif}.phylocanvas-context-menu li:focus,.phylocanvas-context-menu li:hover{background-color:#eee}.phylocanvas-context-menu a{display:block;margin:0 -16px;padding:0 16px}.phylocanvas-context-menu a,.phylocanvas-context-menu li{color:rgba(0,0,0,.87);text-decoration:none;white-space:nowrap}",""])},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var s=e[a];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=f[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(h(r.parts[i],e))}else{for(var s=[],i=0;i<r.parts.length;i++)s.push(h(r.parts[i],e));f[r.id]={id:r.id,refs:1,parts:s}}}}function a(t){for(var e=[],n={},r=0;r<t.length;r++){var a=t[r],i=a[0],s=a[1],o=a[2],l=a[3],h={css:s,media:o,sourceMap:l};n[i]?n[i].parts.push(h):e.push(n[i]={id:i,parts:[h]})}return e}function i(t,e){var n=g(),r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function o(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function h(t,e){var n,r,a;if(e.singleton){var i=m++;n=y||(y=o(e)),r=c.bind(null,n,i,!1),a=c.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=d.bind(null,n),a=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(e),r=u.bind(null,n),a=function(){s(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}function c(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,a);else{var i=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function u(t,e){var n=e.css,r=e.media;if(e.sourceMap,r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(a),i&&URL.revokeObjectURL(i)}var f={},v=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=v(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=v(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=a(t);return r(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var o=n[s],l=f[o.id];l.refs--,i.push(l)}if(t){var h=a(t);r(h,e)}for(var s=0;s<i.length;s++){var l=i[s];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}])})},function(t,e){!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),n(29),n(39),n(44),n(46)},function(t,e,n){"use strict";var r=n(2),a=n(3),i=n(4),s=n(5),o=n(7),l=n(11),h=n(6),c=n(15),u=n(16),d=n(12),f=n(17),v=n(18),p=n(23),g=n(24),y=n(25),m=n(26),b=n(19),x=n(10),w=r.getDesc,S=r.setDesc,k=r.create,C=p.get,L=a.Symbol,T=a.JSON,M=T&&T.stringify,E=!1,_=f("_hidden"),P=r.isEnum,O=c("symbol-registry"),N=c("symbols"),A="function"==typeof L,F=Object.prototype,R=s&&h(function(){return 7!=k(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=w(F,e);r&&delete F[e],S(t,e,n),r&&t!==F&&S(F,e,r)}:S,z=function(t){var e=N[t]=k(L.prototype);return e._k=t,s&&E&&R(F,t,{configurable:!0,set:function(e){i(this,_)&&i(this[_],t)&&(this[_][t]=!1),R(this,t,x(1,e))}}),e},B=function(t){return"symbol"==typeof t},j=function(t,e,n){return n&&i(N,e)?(n.enumerable?(i(t,_)&&t[_][e]&&(t[_][e]=!1),n=k(n,{enumerable:x(0,!1)})):(i(t,_)||S(t,_,x(1,{})),t[_][e]=!0),R(t,e,n)):S(t,e,n)},I=function(t,e){m(t);for(var n,r=g(e=b(e)),a=0,i=r.length;i>a;)j(t,n=r[a++],e[n]);return t},D=function(t,e){return void 0===e?k(t):I(k(t),e)},U=function(t){var e=P.call(this,t);return e||!i(this,t)||!i(N,t)||i(this,_)&&this[_][t]?e:!0},H=function(t,e){var n=w(t=b(t),e);return!n||!i(N,e)||i(t,_)&&t[_][e]||(n.enumerable=!0),n},W=function(t){for(var e,n=C(b(t)),r=[],a=0;n.length>a;)i(N,e=n[a++])||e==_||r.push(e);return r},X=function(t){for(var e,n=C(b(t)),r=[],a=0;n.length>a;)i(N,e=n[a++])&&r.push(N[e]);return r},Y=function(t){if(void 0!==t&&!B(t)){for(var e,n,r=[t],a=1,i=arguments;i.length>a;)r.push(i[a++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){return n&&(e=n.call(this,t,e)),B(e)?void 0:e}),r[1]=e,M.apply(T,r)}},Z=h(function(){var t=L();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))});A||(L=function(){if(B(this))throw TypeError("Symbol is not a constructor");return z(d(arguments.length>0?arguments[0]:void 0))},l(L.prototype,"toString",function(){return this._k}),B=function(t){return t instanceof L},r.create=D,r.isEnum=U,r.getDesc=H,r.setDesc=j,r.setDescs=I,r.getNames=p.get=W,r.getSymbols=X,s&&!n(28)&&l(F,"propertyIsEnumerable",U,!0));var G={"for":function(t){return i(O,t+="")?O[t]:O[t]=L(t)},keyFor:function(t){return v(O,t)},useSetter:function(){E=!0},useSimple:function(){E=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=f(t);G[t]=A?e:z(e)}),E=!0,o(o.G+o.W,{Symbol:L}),o(o.S,"Symbol",G),o(o.S+o.F*!A,"Object",{create:D,defineProperty:j,defineProperties:I,getOwnPropertyDescriptor:H,getOwnPropertyNames:W,getOwnPropertySymbols:X}),T&&o(o.S+o.F*(!A||Z),"JSON",{stringify:Y}),u(L,"Symbol"),u(Math,"Math",!0),u(a.JSON,"JSON",!0)},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(3),a=n(8),i=n(9),s=n(11),o=n(13),l="prototype",h=function(t,e,n){var c,u,d,f,v=t&h.F,p=t&h.G,g=t&h.S,y=t&h.P,m=t&h.B,b=p?r:g?r[e]||(r[e]={}):(r[e]||{})[l],x=p?a:a[e]||(a[e]={}),w=x[l]||(x[l]={});p&&(n=e);for(c in n)u=!v&&b&&c in b,d=(u?b:n)[c],f=m&&u?o(d,r):y&&"function"==typeof d?o(Function.call,d):d,b&&!u&&s(b,c,d),x[c]!=d&&i(x,c,f),y&&w[c]!=d&&(w[c]=d)};r.core=a,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,t.exports=h},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(2),a=n(10);t.exports=n(5)?function(t,e,n){return r.setDesc(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(3),a=n(9),i=n(12)("src"),s="toString",o=Function[s],l=(""+o).split(s);n(8).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,n,s){"function"==typeof n&&(n.hasOwnProperty(i)||a(n,i,t[e]?""+t[e]:l.join(String(e))),n.hasOwnProperty("name")||a(n,"name",e)),t===r?t[e]=n:(s||delete t[e],a(t,e,n))})(Function.prototype,s,function(){return"function"==typeof this&&this[i]||o.call(this)})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(14);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,a){return t.call(e,n,r,a)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(3),a="__core-js_shared__",i=r[a]||(r[a]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(2).setDesc,a=n(4),i=n(17)("toStringTag");t.exports=function(t,e,n){t&&!a(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(15)("wks"),a=n(12),i=n(3).Symbol;t.exports=function(t){return r[t]||(r[t]=i&&i[t]||(i||a)("Symbol."+t))}},function(t,e,n){var r=n(2),a=n(19);t.exports=function(t,e){for(var n,i=a(t),s=r.getKeys(i),o=s.length,l=0;o>l;)if(i[n=s[l++]]===e)return n}},function(t,e,n){var r=n(20),a=n(22);t.exports=function(t){return r(a(t))}},function(t,e,n){var r=n(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(19),a=n(2).getNames,i={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return a(t)}catch(e){return s.slice()}};t.exports.get=function(t){return s&&"[object Window]"==i.call(t)?o(t):a(r(t))}},function(t,e,n){var r=n(2);t.exports=function(t){var e=r.getKeys(t),n=r.getSymbols;if(n)for(var a,i=n(t),s=r.isEnum,o=0;i.length>o;)s.call(t,a=i[o++])&&e.push(a);return e}},function(t,e,n){var r=n(21);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(27);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=!1},function(t,e,n){"use strict";var r=n(13),a=n(7),i=n(30),s=n(31),o=n(32),l=n(34),h=n(36);a(a.S+a.F*!n(38)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,a,c,u=i(t),d="function"==typeof this?this:Array,f=arguments,v=f.length,p=v>1?f[1]:void 0,g=void 0!==p,y=0,m=h(u);if(g&&(p=r(p,v>2?f[2]:void 0,2)),void 0==m||d==Array&&o(m))for(e=l(u.length),n=new d(e);e>y;y++)n[y]=g?p(u[y],y):u[y];else for(c=m.call(u),n=new d;!(a=c.next()).done;y++)n[y]=g?s(c,p,[a.value,y],!0):a.value;return n.length=y,n}})},function(t,e,n){var r=n(22);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(26);t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(i){var s=t["return"];throw void 0!==s&&r(s.call(t)),i}}},function(t,e,n){var r=n(33),a=n(17)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[a]===t)}},function(t,e){t.exports={}},function(t,e,n){var r=n(35),a=Math.min;t.exports=function(t){return t>0?a(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(37),a=n(17)("iterator"),i=n(33);t.exports=n(8).getIteratorMethod=function(t){return void 0!=t?t[a]||t["@@iterator"]||i[r(t)]:void 0}},function(t,e,n){var r=n(21),a=n(17)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=(e=Object(t))[a])?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(17)("iterator"),a=!1;try{var i=[7][r]();i["return"]=function(){a=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){n=!0},i[r]=function(){return s},t(i)}catch(o){}return n}},function(t,e,n){"use strict";var r=n(40),a=n(41),i=n(33),s=n(19);t.exports=n(42)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,a(1)):"keys"==e?a(0,n):"values"==e?a(0,t[n]):a(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(17)("unscopables"),a=Array.prototype;void 0==a[r]&&n(9)(a,r,{}),t.exports=function(t){a[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(28),a=n(7),i=n(11),s=n(9),o=n(4),l=n(33),h=n(43),c=n(16),u=n(2).getProto,d=n(17)("iterator"),f=!([].keys&&"next"in[].keys()),v="@@iterator",p="keys",g="values",y=function(){return this};t.exports=function(t,e,n,m,b,x,w){h(n,e,m);var S,k,C=function(t){if(!f&&t in E)return E[t];switch(t){case p:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},L=e+" Iterator",T=b==g,M=!1,E=t.prototype,_=E[d]||E[v]||b&&E[b],P=_||C(b);if(_){var O=u(P.call(new t));c(O,L,!0),!r&&o(E,v)&&s(O,d,y),T&&_.name!==g&&(M=!0,P=function(){return _.call(this)})}if(r&&!w||!f&&!M&&E[d]||s(E,d,P),l[e]=P,l[L]=y,b)if(S={values:T?P:C(g),keys:x?P:C(p),entries:T?C("entries"):P},w)for(k in S)k in E||i(E,k,S[k]);else a(a.P+a.F*(f||M),e,S);return S}},function(t,e,n){"use strict";var r=n(2),a=n(10),i=n(16),s={};n(9)(s,n(17)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r.create(s,{next:a(1,n)}),i(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(45)(!0);n(42)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(35),a=n(22);t.exports=function(t){return function(e,n){var i,s,o=String(a(e)),l=r(n),h=o.length;return 0>l||l>=h?t?"":void 0:(i=o.charCodeAt(l),55296>i||i>56319||l+1===h||(s=o.charCodeAt(l+1))<56320||s>57343?t?o.charAt(l):i:t?o.slice(l,l+2):(i-55296<<10)+(s-56320)+65536)}}},function(t,e,n){"use strict";var r=n(47);n(52)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(2),a=n(9),i=n(48),s=n(13),o=n(49),l=n(22),h=n(50),c=n(42),u=n(41),d=n(12)("id"),f=n(4),v=n(27),p=n(51),g=n(5),y=Object.isExtensible||v,m=g?"_s":"size",b=0,x=function(t,e){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!f(t,d)){if(!y(t))return"F";if(!e)return"E";a(t,d,++b)}return"O"+t[d]},w=function(t,e){var n,r=x(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,a){var c=t(function(t,i){o(t,c,e),t._i=r.create(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=i&&h(i,n,t[a],t)});return i(c.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[m]=0},"delete":function(t){var e=this,n=w(e,t);if(n){var r=n.n,a=n.p;delete e._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),e._f==n&&(e._f=r),e._l==n&&(e._l=a),e[m]--}return!!n},forEach:function(t){for(var e,n=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!w(this,t)}}),g&&r.setDesc(c.prototype,"size",{get:function(){return l(this[m])}}),c},def:function(t,e,n){var r,a,i=w(t,e);return i?i.v=n:(t._l=i={i:a=x(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[m]++,"F"!==a&&(t._i[a]=i)),t},getEntry:w,setStrong:function(t,e,n){c(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?u(0,n.k):"values"==e?u(0,n.v):u(0,[n.k,n.v]):(t._t=void 0,u(1))},n?"entries":"values",!n,!0),p(e)}}},function(t,e,n){var r=n(11);t.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t}},function(t,e,n){var r=n(13),a=n(31),i=n(32),s=n(26),o=n(34),l=n(36);t.exports=function(t,e,n,h){var c,u,d,f=l(t),v=r(n,h,e?2:1),p=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(i(f))for(c=o(t.length);c>p;p++)e?v(s(u=t[p])[0],u[1]):v(t[p]);else for(d=f.call(t);!(u=d.next()).done;)a(d,v,u.value,e)}},function(t,e,n){"use strict";var r=n(3),a=n(2),i=n(5),s=n(17)("species");t.exports=function(t){var e=r[t];i&&e&&!e[s]&&a.setDesc(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(3),a=n(7),i=n(11),s=n(48),o=n(50),l=n(49),h=n(27),c=n(6),u=n(38),d=n(16);t.exports=function(t,e,n,f,v,p){var g=r[t],y=g,m=v?"set":"add",b=y&&y.prototype,x={},w=function(t){var e=b[t];i(b,t,"delete"==t?function(t){return p&&!h(t)?!1:e.call(this,0===t?0:t)}:"has"==t?function(t){return p&&!h(t)?!1:e.call(this,0===t?0:t)}:"get"==t?function(t){return p&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(p||b.forEach&&!c(function(){(new y).entries().next()}))){var S,k=new y,C=k[m](p?{}:-0,1)!=k,L=c(function(){k.has(1)}),T=u(function(t){new y(t)});T||(y=e(function(e,n){l(e,y,t);var r=new g;return void 0!=n&&o(n,v,r[m],r),r}),y.prototype=b,b.constructor=y),p||k.forEach(function(t,e){S=1/e===-(1/0)}),(L||S)&&(w("delete"),w("has"),v&&w("get")),(S||C)&&w(m),p&&b.clear&&delete b.clear}else y=f.getConstructor(e,t,v,m),s(y.prototype,n);return d(y,t),x[t]=y,a(a.G+a.W+a.F*(y!=g),x),p||f.setStrong(y,t,v),y}}])}]);